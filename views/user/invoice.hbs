<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>

{{#each viewBooking}}
        <class class="row pt-5"></class>

    <div class="invoice-box mt-5" id="invoice">
        <table cellpadding="0"cellspacing="0" class="mt-5">
		<tr class="top_rw">
		   <td colspan="2">
		      <h2 style="margin-bottom: 0px;"> Booking invoice</h2>
              {{#if booking.refundID}}

              {{else}}
			  <span style=""> Number: {{this.booking._id}} Date: {{this.booking.bookingDate}} </span>
    {{/if}}
           </td>
		    <td  style="width:30%; ">
		        Payment Order Id: {{this.booking._id}}
		   </td>
		</tr>
            <tr class="top">
                <td colspan="3">
                    <table>
                        <tr>
                            <td>
							<b> Made By: Seek The World </b> <br>
                                
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr class="information">
                  <td colspan="3">
                    <table>
                        <tr>
                            <td colspan="2">
							<b> Customer Address: {{this.address.house}} </b> <br>
                                {{this.address.place}}, {{this.address.city}} <br>
                                {{this.phone}}<br>
                                {{this.email}}<br>
								
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
                            <td colspan="3">
                                <div class="container d-flex justify-content-center">
            <table cellspacing="0px" class="w-50" cellpadding="2px">
            <tr class="heading">
                <td>
                    Name
                </td>

				 
				 <td style="text-align:right;">
                   TOTAL 
                </td>
            </tr>
			<tr class="item">
               <td >
                    Adults
                </td>
				<td id="adultCount" style="text-align:right;">
                    {{this.booking.adultsCount}}
                </td>

            </tr>
            <tr class="item">
               <td >
                    Childs
                </td>
				<td id="childCount" style="text-align:right;">
                    {{this.booking.childsCount}}
                </td>

            </tr>
			<tr class="item">
               <td  <b> Total Amount</b> </td>

				 <td style="text-align:right;">
                    {{this.booking.totalPrice}}
                </td>
            </tr>
            </td>
			</table>
            </div>
			<tr>
			   <td colspan="3">
			     <table cellspacing="0px" cellpadding="2px">
				    <tr>
			            <td width="50%">
						<b> Declaration: </b> <br>
The Total amount may vary in applying coupon and a 18% tax is added in the subtotal Amount
						</td>
						<td>
						 * This is a computer generated invoice and does not
						  require a physical signature
						</td>
			        </tr>
					 <tr>
			            <td width="50%">
						</td>
						<td>
						 	<b> Authorized Signature </b>
							<br>
							<br>
							sd/-
							<br>
							<br>
							<br>
						</td>
			        </tr>
			     </table>
			   </td>
			</tr>
        </table>
    </div>
{{/each}}
<div class="row d-flex justify-content-center my-5">
<button class="btn btn-success " onclick="generatePDF()">Download Invoice</button>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"
    integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
    function generatePDF() {
        // Choose the element that our invoice is rendered in.
        const element = document.getElementById('invoice');
        // Choose the element and save the PDF for our user.
        html2pdf().from(element).save();
    }
</script>

<link rel="stylesheet" href="/userElem/css/custom.css">